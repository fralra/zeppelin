{"paragraphs":[{"text":"%md\n# Map Demonstration using Google Maps\n\nEste notebook muestra cómo cargar un fichero de polígomos geojson desde un fichero estático. Concretamente muestra los municipios de la Comunidad de Madrid. Los datos se descargaron de: https://data.opendatasoft.com/explore/dataset/espana-municipios%40public/export/?location=9,42.57837,-5.59067&basemap=mapbox.light\n\n## Google maps Key\n\nPara el uso de Google Maps es necesario obtener una clave de acceso a su API, que tiene una serie de limitaciones. Para pruebas y desarrollo se puede solicitar con cualquier cuenta de Google desde esta URL: https://developers.google.com/maps/documentation/javascript/get-api-key. La cuenta estándar permite un uso gratuito de 25.000 cargas de mapa cada 24 horas, consultar los detalles en la web de Google.\n\nEsa Api Key es necesario incluirla en el código de Angular, de lo contrario se observará un error y los mapas no cargarán.\n\n```\n    //Replace with your API key\n    var apiKey = 'gmapskeyhere!!';\n```\n\n## Publish static contents\n\nPara publicar el fichero con las definiciones de los polígonos, se crea una carpeta en */data/tmp/spocui/spoccs/webapp/css/images*, por ejemplo la llamamos *maps* y ponemos dentro todos los contenidos estáticos (iconos, ficheros geojson, etc). Estarán disponibles desde Internet en el enlace: https://129.156.116.103:1080/css/images/maps/filename.","user":"anonymous","dateUpdated":"2018-04-03T09:52:59+0000","config":{"tableHide":false,"editorSetting":{"editOnDblClick":"true","language":"markdown"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Map Demonstration using Google Maps</h1>\n<p>Este notebook muestra cómo cargar un fichero de polígomos geojson desde un fichero estático. Concretamente muestra los municipios de la Comunidad de Madrid. Los datos se descargaron de: <a href=\"https://data.opendatasoft.com/explore/dataset/espana-municipios%40public/export/?location=9,42.57837,-5.59067&basemap=mapbox.light\">https://data.opendatasoft.com/explore/dataset/espana-municipios%40public/export/?location=9,42.57837,-5.59067&basemap=mapbox.light</a></p>\n<h2>Google maps Key</h2>\n<p>Para el uso de Google Maps es necesario obtener una clave de acceso a su API, que tiene una serie de limitaciones. Para pruebas y desarrollo se puede solicitar con cualquier cuenta de Google desde esta URL: <a href=\"https://developers.google.com/maps/documentation/javascript/get-api-key\">https://developers.google.com/maps/documentation/javascript/get-api-key</a>. La cuenta estándar permite un uso gratuito de 25.000 cargas de mapa cada 24 horas, consultar los detalles en la web de Google.</p>\n<p>Esa Api Key es necesario incluirla en el código de Angular, de lo contrario se observará un error y los mapas no cargarán.</p>\n<pre><code>    //Replace with your API key\n    var apiKey = &#39;AIzaSyDzfF0p3PsEQa0axGN26s0hTuoRuXpI4A0&#39;;\n</code></pre>\n<h2>Publish static contents</h2>\n<p>Para publicar el fichero con las definiciones de los polígonos, se crea una carpeta en <em>/data/tmp/spocui/spoccs/webapp/css/images</em>, por ejemplo la llamamos <em>maps</em> y ponemos dentro todos los contenidos estáticos (iconos, ficheros geojson, etc). Estarán disponibles desde Internet en el enlace: <a href=\"https://129.156.116.103:1080/css/images/maps/filename\">https://129.156.116.103:1080/css/images/maps/filename</a>.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1522747118898_801706159","id":"20170417-194925_2070687465","dateCreated":"2018-04-03T09:18:38+0000","dateStarted":"2018-04-03T09:52:59+0000","dateFinished":"2018-04-03T09:52:59+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:441"},{"title":"HTML to display map","text":"%angular\n<div id=\"gmapp\" style=\"height:850px;width:100%;\"></div>\n<script type=\"text/javascript\">\n\n\nfunction initMap() {\n\n    var map     = new google.maps.Map(document.getElementById('gmapp'), {\n      zoom: 9,\n      center: {lat: 40.3568191, lng: -3.23618292}\n    });\n\n   map.data.loadGeoJson(\n      'https://129.156.116.103:1080/css/images/maps/madrid-municipios.geojson');\n}\n\n//Only load GMaps once\nif (typeof google === 'object' && typeof google.maps === 'object') initMap();\nelse {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    \n    //Replace with your API key\n    var apiKey = 'AIzaSyDzfF0p3PsEQa0axGN26s0hTuoRuXpI4A0';\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=\"+apiKey+\"&callback=initMap\";\n    document.getElementsByTagName('head')[0].appendChild(script);\n}\n</script>\n\n\n","user":"anonymous","dateUpdated":"2018-04-05T10:23:57+0000","config":{"lineNumbers":true,"tableHide":false,"editorSetting":{"editOnDblClick":"true","language":"scala"},"colWidth":12,"editorMode":"ace/mode/undefined","editorHide":true,"title":true,"results":[{"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}}}],"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1522747118909_795934926","id":"20180326-145130_880878382","dateCreated":"2018-04-03T09:18:38+0000","dateStarted":"2018-04-05T10:23:57+0000","dateFinished":"2018-04-05T10:23:57+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:442","errorMessage":""},{"text":"%md\n","dateUpdated":"2018-04-03T09:18:38+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":"true"},"colWidth":12,"editorMode":"ace/mode/markdown","editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1522747118910_797089173","id":"20170728-151738_1747139513","dateCreated":"2018-04-03T09:18:38+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:443"}],"name":"Maps/Google Map regions test","id":"2DAYHNFPH","angularObjects":{"2DBXB6T27:shared_process":[],"2D9A19EMC:shared_process":[],"2DAZU5AKR:shared_process":[],"2D9S3R7YF:shared_process":[],"2DAVNCW88:shared_process":[],"2C4U48MY3_spark2:shared_process":[],"2D9WPV2XU:shared_process":[],"2DA2BUDKC:shared_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}